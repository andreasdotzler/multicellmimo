{
    "name": "diss-devcontainer",
    "image": "diss-devcontainer",
    "appPort": [],
    "extensions": [
        "eamodio.gitlens",
        "editorconfig.editorconfig",
        "webfreak.debug",
        "ms-python.python",
        "davidanson.vscode-markdownlint",
        "ms-azuretools.vscode-docker",
        "timonwong.shellcheck"
        // Add any extensions that you like here that should be preinstalled in the container.
    ],
    "containerEnv": { 
        "DEVELOP": "yes",
        "CI_REGISTRY_PASSWORD": "${localEnv:CI_REGISTRY_PASSWORD}",
        "CI_REGISTRY_USER": "${localEnv:CI_REGISTRY_USER}",
        "BALENA_TOKEN": "${localEnv:BALENA_TOKEN}"
    },
    "postCreateCommand": "/bin/entrypoint.sh", 
    "runArgs": [
        "--cap-add=SYS_PTRACE",
        "--security-opt", "seccomp=unconfined",
        // You may want to limit memory and cpus for intellisense and compilers.
        // "--cpuset-cpus", "1-3,5-7",
        // "--memory", "8GB",
        // You may want to mount your home dir to get your personal shell settings etc.
        // Mount it as read-only to prevent the container polluting outside
        // home, but mount .vscode-server as 'rw' then as VS code needs some
        // write access there
        // "-v", "/home/<<USERNAME>>:/home/<<USERNAME>>:ro"
        //  for bind-mount to work, create .vscode-server folder outside of container first!
        // "-v", "/home/$USER/.vscode-server:/home/$USER/.vscode-server:rw"
        "-v", "/var/run/docker.sock:/var/run/docker.sock",
        "-v", "/home/ando/Latex/diss/python/.pylintcache:/pylintcache",
        "--network", "host"
    ],
    "settings": {
        "[python]": {
            "editor.formatOnSave": false
        },
        "python.pythonPath": "python3",
        "python.formatting.provider": "black",
        "python.linting.pylintEnabled": true,
        "python.linting.pylintArgs": [
            "--rcfile=/cadedge_tools/pylintrc"
        ],
        "python.linting.pylintUseMinimalCheckers": false,
        "python.linting.mypyEnabled": true,
        "python.linting.mypyArgs": [
            "--config-file=/cadedge_tools/setup.cfg",
            "--cache-dir=/pylintcache/.vscode"
        ],
        "python.linting.flake8Enabled": true,
        "python.linting.flake8Args": [
            "--config=/cadedge_tools/setup.cfg"
        ]
    }
}
